@model YachtCRM.Domain.ChangeRequest
@{
  ViewData["Title"] = "Edit Change Request";
}
<h2>Edit Change Request</h2>

<form asp-action="Edit" method="post" class="card p-3 shadow-sm">
  <input type="hidden" asp-for="ChangeRequestID" />

  <div class="mb-3">
    <label class="form-label">Project</label>
    <select asp-for="ProjectID" class="form-select" asp-items="ViewBag.Projects"></select>
  </div>

  <div class="mb-3">
    <label asp-for="Title" class="form-label"></label>
    <input asp-for="Title" class="form-control" />
    <span asp-validation-for="Title" class="text-danger"></span>
  </div>

  <div class="row">
    <div class="col-md-4 mb-3">
      <label asp-for="DaysImpact" class="form-label"></label>
      <input asp-for="DaysImpact" type="number" class="form-control" />
    </div>
    <div class="col-md-4 mb-3">
      <label asp-for="CostImpact" class="form-label"></label>
      <input asp-for="CostImpact" type="number" step="0.01" class="form-control" />
    </div>
    <div class="col-md-4 mb-3">
  <label asp-for="ApprovedOn" class="form-label"></label>
  <input asp-for="ApprovedOn" type="datetime-local" class="form-control"
         value="@(Model.ApprovedOn.HasValue ? Model.ApprovedOn.Value.ToLocalTime().ToString("yyyy-MM-ddTHH:mm") : "")" />
</div>

  </div>

  <div class="form-check mb-3">
    <input class="form-check-input" asp-for="Approved" />
    <label class="form-check-label" asp-for="Approved"></label>
  </div>

  <button class="btn btn-primary">Save</button>
  <a asp-action="Details" asp-route-id="@Model.ChangeRequestID" class="btn btn-outline-secondary ms-2">Cancel</a>
</form>

@section Scripts { <partial name="_ValidationScriptsPartial" /> }
